{"ast":null,"code":"var _jsxFileName = \"/home/scott/Desktop/lets-play/client/src/pages/Profile.js\";\nimport React from \"react\";\nimport Chatkit from '@pusher/chatkit-client';\nimport \"./Profile.css\";\nimport RoomList from \"../components/Chat/RoomList\";\nimport MessageList from \"../components/Chat/MessageList\";\nimport NewRoomForm from \"../components/Chat/NewRoomForm\";\nimport SendMessageForm from \"../components/Chat/SendMessageForm\";\n\nrequire(\"dotenv\").config(); // import API from \"../utils/API\";\n\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.subscribeToRoom = () => {\n      this.currentUser.subscribeToRoom({\n        roomId: \"25ab793b-4cc9-4ad8-ae7f-f74ca5265508\",\n        messageLimit: 100,\n        hooks: {\n          onNewMessage: message => {\n            this.setState({\n              messages: [...this.state.messages, message]\n            });\n          }\n        }\n      });\n    };\n\n    this.sendMessage = text => {\n      this.currentUser.sendMessage({\n        text,\n        roomId: \"25ab793b-4cc9-4ad8-ae7f-f74ca5265508\"\n      });\n    };\n\n    this.state = {\n      messages: [],\n      joinableRooms: [],\n      joinedRooms: []\n    };\n    console.log(this.state.user);\n  }\n\n  componentDidMount() {\n    const chatManager = new Chatkit.ChatManager({\n      instanceLocator: \"v1:us1:d763a976-7d94-4bf1-ab82-e3998634540e\",\n      userId: 'shannon',\n      tokenProvider: new Chatkit.TokenProvider({\n        url: \"https://us1.pusherplatform.io/services/chatkit_token_provider/v1/d763a976-7d94-4bf1-ab82-e3998634540e/token\"\n      })\n    });\n    chatManager.connect().then(currentUser => {\n      this.currentUser = currentUser;\n      this.currentUser.getJoinableRooms().then(joinableRooms => {\n        this.setState({\n          joinableRooms,\n          joinedRooms: this.currentUser.rooms\n        });\n      }).catch(err => console.log('error on joinableRooms: ', err));\n      this.subscribeToRoom();\n    }).catch(err => console.log('error on connecting: ', err));\n  }\n\n  render() {\n    console.log('this.state.messages:', this.state.messages);\n    return React.createElement(\"main\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"profileTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Profile\")), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      href: \"#\",\n      className: \"avatar\",\n      alt: \"avatar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Username\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Email\"))), React.createElement(\"div\", {\n      className: \"col-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"personal-chat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Messages\"), React.createElement(MessageList, {\n      messages: this.state.messages,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(SendMessageForm, {\n      sendMessage: this.sendMessage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(NewRoomForm, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"personal-chat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Guilds\"), React.createElement(RoomList, {\n      rooms: [...this.state.joinableRooms, ...this.state.joinedRooms],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"owned-games\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Owned\"))), React.createElement(\"div\", {\n      className: \"col-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wishlist\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Wishlist\"))), React.createElement(\"div\", {\n      className: \"col-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"friendslist\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Friends\")))));\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/home/scott/Desktop/lets-play/client/src/pages/Profile.js"],"names":["React","Chatkit","RoomList","MessageList","NewRoomForm","SendMessageForm","require","config","Profile","Component","constructor","props","subscribeToRoom","currentUser","roomId","messageLimit","hooks","onNewMessage","message","setState","messages","state","sendMessage","text","joinableRooms","joinedRooms","console","log","user","componentDidMount","chatManager","ChatManager","instanceLocator","userId","tokenProvider","TokenProvider","url","connect","then","getJoinableRooms","rooms","catch","err","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Chatkit from '@pusher/chatkit-client';\nimport \"./Profile.css\";\nimport RoomList from \"../components/Chat/RoomList\";\nimport MessageList from \"../components/Chat/MessageList\";\nimport NewRoomForm from \"../components/Chat/NewRoomForm\";\nimport SendMessageForm from \"../components/Chat/SendMessageForm\";\nrequire(\"dotenv\").config();\n\n\n// import API from \"../utils/API\";\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      messages: [],\n      joinableRooms: [],\n      joinedRooms: []\n    }\n    console.log(this.state.user);\n  }\n\n  componentDidMount() {\n    const chatManager = new Chatkit.ChatManager({\n        instanceLocator: \"v1:us1:d763a976-7d94-4bf1-ab82-e3998634540e\",\n        userId: 'shannon',\n        tokenProvider: new Chatkit.TokenProvider({\n            url: \"https://us1.pusherplatform.io/services/chatkit_token_provider/v1/d763a976-7d94-4bf1-ab82-e3998634540e/token\"\n        })\n    })\n    \n    chatManager\n      .connect()\n      .then(currentUser => {\n        this.currentUser = currentUser\n\n        this.currentUser.getJoinableRooms()\n            .then(joinableRooms => {\n              this.setState({\n                joinableRooms,\n                joinedRooms: this.currentUser.rooms\n              })\n            })\n            .catch(err => console.log('error on joinableRooms: ', err))\n            this.subscribeToRoom()\n      })\n      .catch(err => console.log('error on connecting: ', err))\n  }\n\n  subscribeToRoom = () => {\n    this.currentUser.subscribeToRoom({\n      roomId: \"25ab793b-4cc9-4ad8-ae7f-f74ca5265508\",\n      messageLimit: 100,\n      hooks: {\n          onNewMessage: message => {\n              this.setState({\n                  messages: [...this.state.messages, message]\n              })\n          }\n        }\n    })\n}\n    \n  sendMessage = (text) => {\n    this.currentUser.sendMessage({\n      text,\n      roomId: \"25ab793b-4cc9-4ad8-ae7f-f74ca5265508\"\n    })\n  }\n\n  render() {\n    console.log('this.state.messages:', this.state.messages);\n    return (\n      <main>\n        <h2 className=\"profileTitle\"><strong>Profile</strong></h2>\n        <div className=\"row\">\n          <div className=\"col-4\">\n            <img href=\"#\" className=\"avatar\" alt=\"avatar\"></img>\n            <ul>\n              <li>Name</li>\n              <li>Username</li>\n              <li>Email</li>\n            </ul>\n          </div>\n          <div className=\"col-5\">\n            <div className=\"personal-chat\">\n              <h4>Messages</h4>\n              {/* input chatroom info for messaging */}\n              <MessageList messages={this.state.messages} />\n              <SendMessageForm sendMessage={this.sendMessage} />\n              <NewRoomForm />\n            </div>\n          </div>\n          <div className=\"col-3\">\n            <div className=\"personal-chat\">\n              <h4>Guilds</h4>\n              {/* guilds belong to here  */}\n              <RoomList rooms={[...this.state.joinableRooms, ...this.state.joinedRooms]}/>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"row\">\n          <div className=\"col-4\">\n            <div className=\"owned-games\">\n              <h4>Owned</h4>\n              {/* owned games here  */}\n            </div>\n          </div>\n          <div className=\"col-4\">\n            <div className=\"wishlist\">\n              <h4>Wishlist</h4>\n              {/* wishlist here  */}\n            </div>\n          </div>\n          <div className=\"col-4\">\n            <div className=\"friendslist\">\n              <h4>Friends</h4>\n              {/* friends here  */}\n            </div>\n          </div>\n        </div>\n      </main>\n    )\n  }\n\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}